<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abdul Rahman | Visual Storyteller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #f8fafc; color: #1e293b; font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .hero-light { background: linear-gradient(135deg, #e2e8f0 0%, #f8fafc 100%); }
        .card-style { background: #ffffff; border: 1px solid #e2e8f0; transition: 0.3s; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
        .star-color { color: #fbbf24; }
        .star-rating i { cursor: pointer; transition: 0.2s; }
        .admin-reply { background: #eff6ff; border-left: 4px solid #3b82f6; margin-top: 10px; padding: 10px; border-radius: 8px; font-size: 0.85rem; }
    </style>
</head>
<body>

    <nav class="fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-black text-blue-600 tracking-tighter italic">AR<span class="text-slate-800">DESIGN</span></h1>
            <div class="hidden md:flex space-x-8 text-xs font-bold uppercase tracking-widest text-slate-600">
                <a href="#skills" class="hover:text-blue-600 transition">Skills</a>
                <a href="#projects" class="hover:text-blue-600 transition">Projects</a>
                <a href="#reviews-section" class="hover:text-blue-600 transition">Reviews</a>
                <a href="#projects" class="bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition">Hire Me</a>
            </div>
        </div>
    </nav>

    <section class="pt-32 pb-10 text-center hero-light">
        <h1 class="text-4xl font-black">ABDUL RAHMAN PORTFOLIO</h1>
        <p class="text-slate-500">Reviews are now saved locally on this site!</p>
    </section>

    <section id="reviews-section" class="py-20 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-black text-center mb-16 text-slate-900 italic uppercase">CLIENT REVIEWS</h2>
            
            <div id="reviews-list" class="grid md:grid-cols-3 gap-8 mb-16">
                </div>

            <div class="max-w-xl mx-auto card-style p-8 rounded-3xl border-2 border-blue-50">
                <h4 class="text-center font-black mb-6 uppercase text-slate-800 tracking-widest">Leave Your Review</h4>
                <div class="space-y-4">
                    <input type="text" id="reviewer-name" placeholder="Your Name" class="w-full p-3 bg-slate-50 border rounded-lg outline-none focus:border-blue-500">
                    
                    <div class="flex flex-col items-center">
                        <div class="star-rating flex gap-2 text-2xl text-gray-300" id="star-container">
                            <i class="fas fa-star" data-value="1"></i>
                            <i class="fas fa-star" data-value="2"></i>
                            <i class="fas fa-star" data-value="3"></i>
                            <i class="fas fa-star" data-value="4"></i>
                            <i class="fas fa-star" data-value="5"></i>
                        </div>
                        <input type="hidden" id="rating-val" value="5">
                    </div>

                    <textarea id="review-text" placeholder="Write your feedback..." class="w-full p-3 bg-slate-50 border rounded-lg outline-none focus:border-blue-500"></textarea>
                    <button onclick="saveReview()" class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-slate-900 transition uppercase tracking-widest">Post Review</button>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Star Logic
        const stars = document.querySelectorAll('.star-rating i');
        const ratingInput = document.getElementById('rating-val');

        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = star.getAttribute('data-value');
                ratingInput.value = value;
                updateStars(value);
            });
        });

        function updateStars(value) {
            stars.forEach(s => {
                if(s.getAttribute('data-value') <= value) {
                    s.classList.add('active', 'star-color');
                    s.classList.remove('text-gray-300');
                } else {
                    s.classList.remove('active', 'star-color');
                    s.classList.add('text-gray-300');
                }
            });
        }

        // Save & Display Logic
        function saveReview() {
            const name = document.getElementById('reviewer-name').value;
            const text = document.getElementById('review-text').value;
            const rating = ratingInput.value;

            if(!name || !text) { alert("Please fill all fields"); return; }

            const newReview = {
                name: name,
                text: text,
                rating: rating,
                reply: ""
            };

            let reviews = JSON.parse(localStorage.getItem('myReviews')) || [];
            reviews.push(newReview);
            localStorage.setItem('myReviews', JSON.stringify(reviews));
            
            // Clear fields
            document.getElementById('reviewer-name').value = "";
            document.getElementById('review-text').value = "";
            
            displayReviews();
        }

        function displayReviews() {
            const list = document.getElementById('reviews-list');
            let reviews = JSON.parse(localStorage.getItem('myReviews')) || [];
            
            // Default Reviews if empty
            if(reviews.length === 0) {
                reviews = [
                    {name: "Ali Raza", text: "Zabardast kaam!", rating: 5, reply: "Shukriya Ali!"},
                    {name: "Sarah K.", text: "Best designs!", rating: 5, reply: ""}
                ];
            }

            list.innerHTML = "";
            reviews.forEach((rev, index) => {
                let starsHtml = "";
                for(let i=1; i<=5; i++) {
                    starsHtml += `<i class="fas fa-star ${i <= rev.rating ? 'star-color' : 'text-gray-200'}"></i>`;
                }

                list.innerHTML += `
                    <div class="card-style p-6 rounded-2xl relative">
                        <div class="flex justify-center mb-2 text-sm">${starsHtml}</div>
                        <p class="text-slate-600 italic mb-2">"${rev.text}"</p>
                        <span class="font-bold text-slate-900 text-xs">- ${rev.name}</span>
                        ${rev.reply ? `<div class="admin-reply"><strong>Admin:</strong> ${rev.reply}</div>` : ''}
                        
                        <button onclick="addReply(${index})" class="text-[10px] text-blue-400 mt-4 block mx-auto underline">Admin Reply</button>
                    </div>
                `;
            });
        }

        function addReply(index) {
            const replyText = prompt("Enter your reply as Admin:");
            if(replyText) {
                let reviews = JSON.parse(localStorage.getItem('myReviews')) || [];
                reviews[index].reply = replyText;
                localStorage.setItem('myReviews', JSON.stringify(reviews));
                displayReviews();
            }
        }

        // Load reviews on start
        window.onload = displayReviews;
        updateStars(5);
    </script>

</body>
</html>
